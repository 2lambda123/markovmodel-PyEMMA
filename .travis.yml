language: c 
os:
 - linux
 - osx

sudo: false

env:
  global:
    - common_py_deps="jinja2 conda-build"
    - PATH=$HOME/miniconda/bin:$PATH
  matrix:
    # minimum possible numpy version = 1.8, because of mdtraj
    - python=2.7  CONDA_PY=27  CONDA_NPY=19
    - python=2.7  CONDA_PY=27  CONDA_NPY=110
    - python=3.4  CONDA_PY=34  CONDA_NPY=19
    - python=3.5  CONDA_PY=35  CONDA_NPY=110
   
before_install:
- tools/ci/travis/install_miniconda.sh
- conda config --set always_yes true 
- conda config --add channels omnia 
- conda install -q $common_py_deps 

script:
- conda build -q tools/conda-recipe

after_success:
# coverage report: needs .coverage file generated by testsuite and git src
- pip install coveralls
- coveralls 

